
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

    <title>porosimetry &#8212; PoreSpy  documentation</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.f6b7ca918bee2f46fd9abac01cfb07d5.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1e043a052b0af929e4d8.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/custom.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="prune_branches" href="porespy.filters.prune_branches.html" />
    <link rel="prev" title="nphase_border" href="porespy.filters.nphase_border.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">


    
      
      <a class="navbar-brand" href="https://www.porespy.org">
        <img src="../../_static/porespy_logo.png" class="logo" alt="logo">
      </a>
      
    

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    
    <div id="navbar-menu" class=" collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../user_guide/index.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../index.html">
  Module and Function Reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../examples.html">
  Examples
 </a>
</li>

        
        <li class="nav-item">
            <a class="nav-link nav-external" href="https://github.com/PMEAL/porespy/issues">Issue Tracker<i class="fas fa-external-link-alt"></i></a>
        </li>
        
        <li class="nav-item">
            <a class="nav-link nav-external" href="https://github.com/PMEAL/porespy/discussions">Get Help<i class="fas fa-external-link-alt"></i></a>
        </li>
        
      </ul>

      <ul id="navbar-icon-links" class="navbar-nav" aria-label="Quick Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/PMEAL/porespy" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://porespy.substack.com/" rel="noopener" target="_blank" title="Substack">
            <span><i class="fas fa-envelope-square"></i></span>
            <label class="sr-only">Substack</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/porespy" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l2 current active">
  <a class="reference internal" href="../filters.html">
   Filters
  </a>
  <ul class="current">
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.apply_chords.html">
     apply_chords
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.apply_chords_3D.html">
     apply_chords_3D
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.apply_padded.html">
     apply_padded
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.chunked_func.html">
     chunked_func
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.distance_transform_lin.html">
     distance_transform_lin
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.fftmorphology.html">
     fftmorphology
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.fill_blind_pores.html">
     fill_blind_pores
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.find_disconnected_voxels.html">
     find_disconnected_voxels
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.find_dt_artifacts.html">
     find_dt_artifacts
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.find_peaks.html">
     find_peaks
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.flood.html">
     flood
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.hold_peaks.html">
     hold_peaks
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.local_thickness.html">
     local_thickness
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.nphase_border.html">
     nphase_border
    </a>
   </li>
   <li class="toctree-l3 current active">
    <a class="current reference internal" href="#">
     porosimetry
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.prune_branches.html">
     prune_branches
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.reduce_peaks.html">
     reduce_peaks
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.region_size.html">
     region_size
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.snow_partitioning.html">
     snow_partitioning
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.snow_partitioning_n.html">
     snow_partitioning_n
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.snow_partitioning_parallel.html">
     snow_partitioning_parallel
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.trim_disconnected_blobs.html">
     trim_disconnected_blobs
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.trim_extrema.html">
     trim_extrema
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.trim_floating_solid.html">
     trim_floating_solid
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.trim_nearby_peaks.html">
     trim_nearby_peaks
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.trim_nonpercolating_paths.html">
     trim_nonpercolating_paths
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.trim_saddle_points.html">
     trim_saddle_points
    </a>
   </li>
   <li class="toctree-l3">
    <a class="reference internal" href="porespy.filters.trim_small_clusters.html">
     trim_small_clusters
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="../tools.html">
   Tools
  </a>
 </li>
</ul>
  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              

<nav id="bd-toc-nav">
    
</nav>


              
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="porosimetry">
<h1>porosimetry<a class="headerlink" href="#porosimetry" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="porespy.filters.porosimetry">
<code class="sig-name descname"><span class="pre">porosimetry</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">im</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sizes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inlets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">access_limited</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hybrid'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fft</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/porespy/filters/__funcs__.html#porosimetry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#porespy.filters.porosimetry" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs a porosimetry simulution on an image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>im</strong> (<em>ndarray</em>) – An ND image of the porous material containing <code class="docutils literal notranslate"><span class="pre">True</span></code> values in the
pore space.</p></li>
<li><p><strong>sizes</strong> (<em>array_like</em><em> or </em><em>scalar</em>) – The sizes to invade.  If a list of values of provided they are
used directly.  If a scalar is provided then that number of points
spanning the min and max of the distance transform are used.</p></li>
<li><p><strong>inlets</strong> (<em>ndarray</em><em>, </em><em>boolean</em>) – A boolean mask with <code class="docutils literal notranslate"><span class="pre">True</span></code> values indicating where the invasion
enters the image.  By default all faces are considered inlets,
akin to a mercury porosimetry experiment.  Users can also apply
solid boundaries to their image externally before passing it in,
allowing for complex inlets like circular openings, etc.
This argument is only used if <code class="docutils literal notranslate"><span class="pre">access_limited</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>access_limited</strong> (<em>bool</em>) – This flag indicates if the intrusion should only occur from the
surfaces (<code class="docutils literal notranslate"><span class="pre">access_limited</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, which is the default),
or if the invading phase should be allowed to appear in the core
of the image.  The former simulates experimental tools like
mercury intrusion porosimetry, while the latter is useful for
comparison to gauge the extent of shielding effects in the sample.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – <dl class="simple">
<dt>Controls with method is used to compute the result. Options are:</dt><dd><ul>
<li><p>’hybrid’: (default) Performs a distance tranform of the void
space, thresholds to find voxels larger than <code class="docutils literal notranslate"><span class="pre">sizes[i]</span></code>,
trims the resulting mask if <code class="docutils literal notranslate"><span class="pre">access_limitations</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>,
then dilates it using the efficient fft-method to obtain the
non-wetting fluid configuration.</p></li>
<li><p>’dt’: Same as ‘hybrid’, except uses a second distance
transform, relative to the thresholded mask, to find the
invading fluid configuration. The choice of ‘dt’ or ‘hybrid’
depends on speed, which is system and installation specific.</p></li>
<li><p>’mio’: Using a single morphological image opening step to
obtain the invading fluid confirguration directly, <em>then</em> trims
if <code class="docutils literal notranslate"><span class="pre">access_limitations</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.  This method is not
ideal and is included mostly for comparison purposes. The
morphological operations are done using fft-based method
implementations.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>fft</strong> (boolean (default is <code class="docutils literal notranslate"><span class="pre">True</span></code>)) – Indicates whether to use the <code class="docutils literal notranslate"><span class="pre">fftmorphology</span></code> function in
<code class="docutils literal notranslate"><span class="pre">porespy.filters</span></code> or to use the standard morphology functions in
<code class="docutils literal notranslate"><span class="pre">scipy.ndimage</span></code>.  Always use <code class="docutils literal notranslate"><span class="pre">fft=True</span></code> unless you have a good
reason not to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>image</strong> – A copy of <code class="docutils literal notranslate"><span class="pre">im</span></code> with voxel values indicating the sphere radius at
which it becomes accessible from the inlets.  This image can be
used to find invading fluid configurations as a function of
applied capillary pressure by applying a boolean comparison:
<code class="docutils literal notranslate"><span class="pre">inv_phase</span> <span class="pre">=</span> <span class="pre">im</span> <span class="pre">&gt;</span> <span class="pre">r</span></code> where <code class="docutils literal notranslate"><span class="pre">r</span></code> is the radius (in voxels) of
the invading sphere.  Of course, <code class="docutils literal notranslate"><span class="pre">r</span></code> can be converted to
capillary pressure using a preferred model.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>There are many ways to perform this filter, and PoreSpy offers 3,
which users can choose between via the <code class="docutils literal notranslate"><span class="pre">mode</span></code> argument. These
methods all work in a similar way by finding which foreground voxels
can accomodate a sphere of a given radius, then repeating for smaller
radii.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="porespy.filters.local_thickness.html#porespy.filters.local_thickness" title="porespy.filters.local_thickness"><code class="xref py py-obj docutils literal notranslate"><span class="pre">local_thickness</span></code></a></p>
</div>
</dd></dl>

</section>


              </div>
              
              
          </main>
          

      </div>
    </div>

    
  <script src="../../_static/js/index.1e043a052b0af929e4d8.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2021 PoreSpy Team.<br/>
    </p>
  </div>
</footer>
  </body>
</html>