<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Porosimetry" href="porosimetry.html" /><link rel="prev" title="Applying chords to 2D and 3D images" href="adding_chords.html" />

    <meta name="generator" content="sphinx-3.5.3, furo 2021.02.21.beta25"/>
        <title>Local thickness - PoreSpy documentation</title>
      <link rel="stylesheet" href="../../_static/styles/furo.css?digest=33d2fc4f3f180ec1ffc6524e273e21d7d58cbe49">
    <link rel="stylesheet" href="../../_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../../_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" href="../../_static/styles/furo-extensions.css?digest=d391b54134226e4196576da3bdb6dddb7e05ba2b"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">PoreSpy  documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/porespy_logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">PoreSpy  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../basic_usage.html">Basic Usage</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../modules/index.html">Module and Function Reference</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../modules/generators.html">Generators</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.generators.blobs.html">blobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.generators.bundle_of_tubes.html">bundle_of_tubes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.generators.cylindrical_plug.html">cylindrical_plug</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.generators.cylinders.html">cylinders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.generators.fractal_noise.html">fractal_noise</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.generators.insert_shape.html">insert_shape</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.generators.lattice_spheres.html">lattice_spheres</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.generators.line_segment.html">line_segment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.generators.overlapping_spheres.html">overlapping_spheres</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.generators.polydisperse_spheres.html">polydisperse_spheres</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.generators.pseudo_electrostatic_packing.html">pseudo_electrostatic_packing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.generators.pseudo_gravity_packing.html">pseudo_gravity_packing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.generators.RSA.html">RSA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.generators.voronoi_edges.html">voronoi_edges</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../modules/filters.html">Filters</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.apply_chords.html">apply_chords</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.apply_chords_3D.html">apply_chords_3D</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.apply_padded.html">apply_padded</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.chunked_func.html">chunked_func</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.distance_transform_lin.html">distance_transform_lin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.fftmorphology.html">fftmorphology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.fill_blind_pores.html">fill_blind_pores</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.find_disconnected_voxels.html">find_disconnected_voxels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.find_dt_artifacts.html">find_dt_artifacts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.find_peaks.html">find_peaks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.flood.html">flood</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.hold_peaks.html">hold_peaks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.local_thickness.html">local_thickness</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.nphase_border.html">nphase_border</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.porosimetry.html">porosimetry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.prune_branches.html">prune_branches</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.reduce_peaks.html">reduce_peaks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.region_size.html">region_size</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.snow_partitioning.html">snow_partitioning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.snow_partitioning_n.html">snow_partitioning_n</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.snow_partitioning_parallel.html">snow_partitioning_parallel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.trim_disconnected_blobs.html">trim_disconnected_blobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.trim_extrema.html">trim_extrema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.trim_floating_solid.html">trim_floating_solid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.trim_nearby_peaks.html">trim_nearby_peaks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.trim_nonpercolating_paths.html">trim_nonpercolating_paths</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.trim_saddle_points.html">trim_saddle_points</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.filters.trim_small_clusters.html">trim_small_clusters</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../modules/metrics.html">Metrics</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.metrics.chord_counts.html">chord_counts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.metrics.chord_length_distribution.html">chord_length_distribution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.metrics.lineal_path_distribution.html">lineal_path_distribution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.metrics.mesh_surface_area.html">mesh_surface_area</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.metrics.phase_fraction.html">phase_fraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.metrics.pore_size_distribution.html">pore_size_distribution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.metrics.porosity.html">porosity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.metrics.porosity_profile.html">porosity_profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.metrics.prop_to_image.html">prop_to_image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.metrics.props_to_DataFrame.html">props_to_DataFrame</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.metrics.radial_density_distribution.html">radial_density_distribution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.metrics.region_interface_areas.html">region_interface_areas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.metrics.region_surface_areas.html">region_surface_areas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.metrics.regionprops_3D.html">regionprops_3D</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.metrics.representative_elementary_volume.html">representative_elementary_volume</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.metrics.two_point_correlation_bf.html">two_point_correlation_bf</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.metrics.two_point_correlation_fft.html">two_point_correlation_fft</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../modules/networks.html">Networks</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.networks.snow.html">snow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.networks.snow_dual.html">snow_dual</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.networks.map_to_regions.html">map_to_regions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.networks.regions_to_network.html">regions_to_network</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.networks.add_boundary_regions.html">add_boundary_regions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.networks.generate_voxel_image.html">generate_voxel_image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.networks.maximal_ball.html">maximal_ball</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../modules/dns.html">DNS</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.dns.tortuosity.html">tortuosity</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../modules/tools.html">Tools</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label for="toctree-checkbox-7"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.align_image_with_openpnm.html">align_image_with_openpnm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.bbox_to_slices.html">bbox_to_slices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.extend_slice.html">extend_slice</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.extract_subsection.html">extract_subsection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.extract_regions.html">extract_regions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.extract_cylinder.html">extract_cylinder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.extract_subsection.html">extract_subsection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.fftmorphology.html">fftmorphology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.find_outer_region.html">find_outer_region</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.get_border.html">get_border</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.get_planes.html">get_planes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.insert_cylinder.html">insert_cylinder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.insert_sphere.html">insert_sphere</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.in_hull.html">in_hull</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.make_contiguous.html">make_contiguous</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.mesh_region.html">mesh_region</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.norm_to_uniform.html">norm_to_uniform</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.overlay.html">overlay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.ps_ball.html">ps_ball</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.ps_disk.html">ps_disk</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.ps_rect.html">ps_rect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.ps_round.html">ps_round</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.pad_faces.html">pad_faces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.randomize_colors.html">randomize_colors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.seq_to_satn.html">seq_to_satn</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.size_to_seq.html">size_to_seq</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.subdivide.html">subdivide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.tools.zero_corners.html">zero_corners</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../modules/visualization.html">Visualization</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label for="toctree-checkbox-8"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.visualization.sem.html">sem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.visualization.show_planes.html">show_planes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.visualization.xray.html">xray</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.visualization.show_3D.html">show_3D</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.visualization.imshow.html">imshow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.visualization.bar.html">bar</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.visualization.show_mesh.html">show_mesh</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.visualization.set_mpl_style.html">set_mpl_style</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../modules/io.html">IO</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label for="toctree-checkbox-9"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.io.to_vtk.html">to_vtk</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.io.dict_to_vtk.html">dict_to_vtk</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.io.to_palabos.html">to_palabos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.io.openpnm_to_im.html">openpnm_to_im</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.io.to_stl.html">to_stl</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.io.to_paraview.html">to_paraview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.io.open_paraview.html">open_paraview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../modules/generated/porespy.io.spheres_to_comsol.html">spheres_to_comsol</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../examples.html">Examples</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label for="toctree-checkbox-10"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../generators/RSA.html">Generating polydisperse spheres using RSA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/cylinders.html">Generating fibrous mats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generators/making_blobs.html">Making blobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="adding_chords.html">Applying chords to 2D and 3D images</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Local thickness</a></li>
<li class="toctree-l2"><a class="reference internal" href="porosimetry.html">Porosimetry</a></li>
<li class="toctree-l2"><a class="reference internal" href="snow_partitioning.html">SNOW partitioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="snow_partitioning_parallel.html">SNOW partitioning parallel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networks/snow_advanced.html">SNOW network extraction (advanced)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../networks/snow_basic.html">SNOW network extraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics/chord_length_distribution.html">Chord length distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics/porosity_profiles.html">Obtaining the porosity profile along each principle axis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics/regionprops_3d.html">Using regionprops_3d to analyze properties of each pore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics/two_point_correlation.html">Two point correlation function</a></li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 0;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="section" id="Local-thickness">
<h1>Local thickness<a class="headerlink" href="#Local-thickness" title="Permalink to this headline">¶</a></h1>
<p>This example explains how to use the <code class="docutils literal notranslate"><span class="pre">local_thickness</span></code> filter to get information about the pore size distribution from an image. The local thickness is probably the closest you can get to an actual pore size distribution. Unlike porosimetry experiments or simulations it is unaffected by artifacts such as edge effects. The implementation in PoreSpy is slightly different than the common approach done in ImageJ, as will be explained below.</p>
<p>These notebooks were generated with a specific version of Python, PoreSpy, Numpy, etc. For reference to future viewers, the version information is given below. This notebook may or may not work with later versions, but we can assert it works with the version listed below:</p>
<p>Import the needed packages from the Scipy stack:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>import numpy as np
import porespy as ps
import scipy.ndimage as spim
import matplotlib.pyplot as plt
ps.visualization.set_mpl_style()
</pre></div>
</div>
</div>
<div class="section" id="Generate-Test-Image">
<h2>Generate Test Image<a class="headerlink" href="#Generate-Test-Image" title="Permalink to this headline">¶</a></h2>
<p>Start by generating an image. We’ll use the RSA generator for fun:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>im = np.zeros([300, 300])
im = ps.generators.RSA(im, radius=20, volume_fraction=0.2)
im = ps.generators.RSA(im, radius=15, volume_fraction=0.4)
im = ps.generators.RSA(im, radius=10, volume_fraction=0.6)
im = im == 0
fig, ax = plt.subplots()
ax.imshow(im);
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/examples_filters_local_thickness_5_0.svg" src="../../_images/examples_filters_local_thickness_5_0.svg"/></div>
</div>
</div>
<div class="section" id="Apply-Local-Thickness-Filter">
<h2>Apply Local Thickness Filter<a class="headerlink" href="#Apply-Local-Thickness-Filter" title="Permalink to this headline">¶</a></h2>
<p>The local thickness filter is called by simply passing in the image. Like all filters in PoreSpy it is applied to the foreground, indicated by 1’s or <code class="docutils literal notranslate"><span class="pre">True</span></code>:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>thk = ps.filters.local_thickness(im, mode='dt')
fig, ax = plt.subplots()
ax.imshow(thk, cmap=plt.cm.jet);
import tqdm.notebook as tqdm
from time import sleep
for i in tqdm.tqdm(range(10)):
    sleep(0.1)
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "7e1d061683c3430eaf4e17a423e0537b", "version_major": 2, "version_minor": 0}</script></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/examples_filters_local_thickness_7_2.svg" src="../../_images/examples_filters_local_thickness_7_2.svg"/></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>from tqdm.notebook import tqdm, tqdm_notebook
for i in tqdm_notebook(range(10)):
    sleep(0.1)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "85aa5837630141e0a2aee14ded2f6ac1", "version_major": 2, "version_minor": 0}</script></div>
</div>
</div>
<div class="section" id="Extracting-PSD-as-a-Histogram">
<h2>Extracting PSD as a Histogram<a class="headerlink" href="#Extracting-PSD-as-a-Histogram" title="Permalink to this headline">¶</a></h2>
<p>Obtaining pore size distribution information from this image requires obtaining a histogram of voxel values. A function in the <code class="docutils literal notranslate"><span class="pre">metrics</span></code> module does this for us:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>psd = ps.metrics.pore_size_distribution(im=thk)
</pre></div>
</div>
</div>
<p>The result returned into <code class="docutils literal notranslate"><span class="pre">psd</span></code> is a “named-tuple”, which is a list of arrays that can be accessed by location (i.e. <code class="docutils literal notranslate"><span class="pre">psd[0]</span></code>), but has the added benefit of accessing arrays by name so you know what you’re getting. You can print a list of available arrays as follows:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>print(psd._fields)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
('LogR', 'pdf', 'cdf', 'satn', 'bin_centers', 'bin_edges', 'bin_widths')
</pre></div></div>
</div>
<p>Let’s plot a pore-size distribution histogram:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>fig, ax = plt.subplots(figsize=(5, 4))
ax.set_xlabel('log(Pore Radius) [voxels]')
ax.set_ylabel('Normalized Volume Fraction')
ax.bar(x=psd.LogR, height=psd.pdf, width=psd.bin_widths, edgecolor='k');
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/examples_filters_local_thickness_14_0.svg" src="../../_images/examples_filters_local_thickness_14_0.svg"/></div>
</div>
</div>
<div class="section" id="PoreSpy-Implementation">
<h2>PoreSpy Implementation<a class="headerlink" href="#PoreSpy-Implementation" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">local_thickness</span></code> filter in PoreSpy is implemented differently that the <em>normal</em> approach such as the ImageJ plugin, though the end result is comparible though not identical.</p>
<p>In our approach, we use a form of image dilation and erosion. We start with a large spherical structuring element, and note all the places where this fits in the pore space. This gives a result like that below for a structuring element of radius R=10:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>R = 10
strel = ps.tools.ps_disk(R)
im_temp = spim.binary_opening(im, structure=strel)
fig, ax = plt.subplots()
ax.imshow(im_temp*2.0 + ~im);
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/examples_filters_local_thickness_16_0.svg" src="../../_images/examples_filters_local_thickness_16_0.svg"/></div>
</div>
<p>The key is to make a <em>master</em> array containing the numerical value of the largest sphere that covers each voxel. We’ll initialize a new array with the current locations where R=10 fits:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>im_result = im_temp*R
</pre></div>
</div>
</div>
<p>Now this is repeated for a range of decreasing structuring element sizes. For illustration, do R = 8:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>R = 8
strel = ps.tools.ps_disk(R)
im_temp = spim.binary_opening(im, structure=strel)
</pre></div>
</div>
</div>
<p>This new image must be added to the <code class="docutils literal notranslate"><span class="pre">im_result</span></code> array, but only in places that were not filled at any larger radius. This is done using boolean logic as follows:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>im_result[(im_result == 0)*im_temp] = R
</pre></div>
</div>
</div>
<p>There are now 2 values in the <code class="docutils literal notranslate"><span class="pre">im_results</span></code> array indicating the locations where the structuring element of size 10 fits, and where size 8 fit on the subsequent step:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>fig, ax = plt.subplots()
ax.imshow(im_result + ~im);
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/examples_filters_local_thickness_24_0.svg" src="../../_images/examples_filters_local_thickness_24_0.svg"/></div>
</div>
<p>The procedure is then repeated for smaller structuring elements down to R = 1. It’s possible to specify which sizes are used, but by default all integers between <span class="math notranslate nohighlight">\(R_{max}\)</span> and 1. This yields the image showed above:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>fig, ax = plt.subplots()
ax.imshow(thk, cmap=plt.cm.jet);
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/examples_filters_local_thickness_26_0.svg" src="../../_images/examples_filters_local_thickness_26_0.svg"/></div>
</div>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="porosimetry.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Porosimetry</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="adding_chords.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Applying chords to 2D and 3D images</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021 PoreSpy Team
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Local thickness</a><ul>
<li><a class="reference internal" href="#Generate-Test-Image">Generate Test Image</a></li>
<li><a class="reference internal" href="#Apply-Local-Thickness-Filter">Apply Local Thickness Filter</a></li>
<li><a class="reference internal" href="#Extracting-PSD-as-a-Histogram">Extracting PSD as a Histogram</a></li>
<li><a class="reference internal" href="#PoreSpy-Implementation">PoreSpy Implementation</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <script src="../../_static/js/custom.js"></script>
    <script src="../../_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>